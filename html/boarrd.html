<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8x8 Grid Web</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body, html {
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #eee;
        }
        
        .containerBoardGame {
    height: 373px;
width: 285px;
    max-width: 800px;
    background-color: #6a4c9c;
    border-radius: 10px;
    padding: 30px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    text-align: center;
    position: absolute;
}

.grid-containerBoardGame {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(8, 1fr);
    gap: 0;
    width: 260px;
    aspect-ratio: 1;
    border: 3px solid #fff;
    border-radius: 8px;
}

.grid-itemBoardGame {
    background-color: #fff;
    width: 100%;
    height: 100%;
    border: 1px solid #ddd;
    transition: background-color 0.3s ease;
}

.grid-itemBoardGame:hover {
    background-color: #ddd;
}
    </style>
</head>
<body>
    <div class="containerBoardGame">
        <div class="containerBoardGame2">
            <!-- Nút Kỹ năng và Đầu hàng -->
            <style>
                .container2BoardGame {
                    width: 285px;
                    padding: 0px 14px;
                    padding-bottom: -7px;
                    background-color: #6a4c9c;
                    border-radius: 10px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    position: relative;
                    height: 43px !important;
                }

                /* .container2 *{
       
   } */

                .controlsBoardGame {
                    width: 100%;
                    display: flex;
                    justify-content: space-between;
                    margin-bottom: 20px;
                }

                .controlsBoardGame button {
                    background-color: #fff;
                    width: 70px;
                    border: none;
                    color: black;
                    padding: 0 5px;
                    font-size: 14px;
                    cursor: pointer;
                    border-radius: 5px;
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                }

                .circle-containerBoardGame {
                    padding: 0 5px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 5px;
                }

                .arrowBoardGame {
                    width: 30px;
                    height: 30px;
                    background-color: #fff;
                    border-radius: 30%;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    font-size: 20px;
                    font-weight: bold;
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                    cursor: pointer;
                }

                .circleBoardGame {
                    width: 30px;
                    height: 30px;
                    background-color: #fff;
                    border-radius: 40%;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    font-size: 17px;
                    font-weight: bold;
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                }

                .status-rowBoardGame {
                    display: flex;
                    justify-content: space-between;
                    gap: 5px;
                    margin-top: 5px;
                }

                .statusBoardGame {
                    flex: 1;
                    padding: 5px;
                    background-color: #2e0854;
                    border-radius: 10px;
                    display: flex;
                    flex-direction: column;
                    gap: 4px;
                    font-size: 13px !important;

                }

                .barBoardGame {
                    line-height: 8px !important;
                    position: relative;
                    height: 8px;
                    border-radius: 5px;
                    background-color: #555;
                    overflow: visible;


                }

                .bar-fillBoardGame {
                    height: 100%;
                    border-radius: 5px;
                    transition: width 0.5s ease-in-out;

                }

                .health-barBoardGame .bar-fillBoardGame {
                    background: linear-gradient(to right, #4d94ff, #6a0dad, #000);

                }

                .mana-barBoardGame .bar-fillBoardGame {
                    background: linear-gradient(90deg, #00bcd4, #007bff);
                }


                .armor-barBoardGame {
                    text-align: center;
                    font-size: 12px;
                    background-color: #000;
                    color: #fff;
                    border-radius: 5px;
                    transition: transform 0.3s ease, background-color 0.3s ease;
                    height: 8px !important;
                    line-height: 18px;
                    width: 45px !important;
                    margin-left: 19px;
                    margin-bottom: 0px;





                }

                .statusBoardGame * {
                    font-size: 6px !important;
                    /* Áp dụng cho tất cả các phần tử con trong .container */
                    width: 80px
                }

                .armor-barBoardGame.active {
                    transform: scale(1.1);
                    background-color: #ff9800;
                }

                .bar-labelBoardGame {
                    position: absolute;
                    top: 0;
                    left: 50%;
                    transform: translateX(-50%);
                    font-size: 10px;
                    color: #fff;
                    line-height: 8px;
                }

                .buttonsBoardGame {
                    display: flex;
                    justify-content: space-between;
                    gap: 10px;
                }

                .buttonBoardGame {
                    flex: 1;
                    padding: 10px;
                    background-color: #6a0dad;
                    border: none;
                    border-radius: 5px;
                    font-size: 14px;
                    color: #fff;
                    cursor: pointer;
                    transition: background-color 0.3s;
                }

                .buttonBoardGame:hover {
                    background-color: #4b0082;
                }

                .low-healthBoardGame .bar-fillBoardGame {


                    box-shadow: 0 0 10px 4px #ff4500, 0 0 20px 6px #ff6347;
                    animation: low-health-blink 1s infinite;
                    background: linear-gradient(90deg, #ff0000, #8b0000);
                }

                @keyframes low-health-blink {

                    0%,
                    100% {
                        opacity: 1;
                    }

                    50% {
                        opacity: 0.5;
                    }
                }

                /* Hiệu ứng chớp nháy */
                @keyframes blinkingBoardGame {

                    0%,
                    100% {
                        box-shadow: 0 0 10px 5px rgba(255, 0, 0, 0.8);
                    }

                    50% {
                        box-shadow: 0 0 20px 10px rgba(255, 0, 0, 0.5);
                    }
                }

                /* Áp dụng hiệu ứng cho thanh máu khi hấp hối */
                .full1BoardGame {
                    animation: blinkingBoardGame 1s infinite;
                }

                /* Hiệu ứng chớp nháy cho thanh mana đầy */
                @keyframes manaFullBlinking {

                    0%,
                    100% {
                        box-shadow: 0 0 10px 5px rgba(0, 191, 255, 0.8);
                    }

                    50% {
                        box-shadow: 0 0 20px 10px rgba(0, 191, 255, 0.5);
                    }
                }

                /* Áp dụng hiệu ứng cho thanh mana khi đầy */
                .full2BoardGame {
                    animation: manaFullBlinking 1s infinite;
                }

                .mana-barBoardGame .bar-fillBoardGame {
                    background: linear-gradient(90deg, #0d47a1, #2196f3, #26c6da, #80deea);
                }

                .health-barBoardGame .bar-fillBoardGame {
                    background: linear-gradient(90deg, #4a148c, #ff0000, #000000);
                }
            </style>
            <div class="controlsBoardGame">
                <button id="skillButtonBoardGame">Kỹ năng</button>
                <div class="circle-containerBoardGame">
                    <div class="arrowBoardGame" id="arrowLeftBoardGame">&larr;</div>
                    <div class="circleBoardGame" id="circleBoardGame">19s</div>
                    <div class="arrowBoardGame" id="arrowRightBoardGame">&rarr;</div>
                </div>
                <button id="surrenderButtonBoardGame">Đầu hàng</button>
            </div>

            <!-- Hình tròn và mũi tên -->

        </div>
        <div class="grid-containerBoardGame">
            <!-- Các ô vuông 8x8 sẽ được tạo bởi JavaScript -->
        </div>

        <!-- Status Rows -->
        <div class="status-rowBoardGame">
            <!-- Player Info -->
            <div class="statusBoardGame" style="margin-right: 48px;">
                <div class="armor-barBoardGame charArmor">Giáp: 0</div>
                <div class="barBoardGame health-barBoardGame">
                    <div class="full1BoardGame bar-fillBoardGame charHpFill" style="width: 50%;"></div>
                    <span class="bar-labelBoardGame charHpText">500/1000</span>
                </div>

                <div class="barBoardGame mana-barBoardGame full2BoardGame" style="top:1px">
                    <div class="bar-fillBoardGame charManafill" style="width: 30%;"></div>
                    <span class="bar-labelBoardGame charmanaText">30/100</span>
                </div>
            </div>
            <!-- Enemy Info -->
            <div class="statusBoardGame">
                <div class="armor-barBoardGame monArmor">Giáp: 0</div>
                <div class="barBoardGame health-barBoardGame">
                    <div class="bar-fillBoardGame monHpFill" style="width: 70%;"></div>
                    <span class="bar-labelBoardGame monHpText">700/1000</span>
                </div>

                <div class="barBoardGame mana-barBoardGame" style="top:1px">
                    <div class="bar-fillBoardGame monManaFill" style="width: 40%;"></div>
                    <span class="bar-labelBoardGame monManaText">40/100</span>
                </div>
            </div>
        </div>

    </div>

     <!-- Buttons -->
     <div class="buttons">
        <button class="button" onclick="increaseArmor()">Tăng Giáp</button>
        <button class="button" onclick="increaseMana()">Tăng Mana</button>
        <button class="button" onclick="increaseHealth()">Tăng Máu</button>
      </div>

     <script>
        // Tạo bảng 8x8
        const gridContainer = document.querySelector('.grid-container');
        for (let i = 0; i < 64; i++) {
            const gridItem = document.createElement('div');
            gridItem.classList.add('grid-item');
            gridContainer.appendChild(gridItem);
        }
    </script>
     <script>
        // Initial values
        let player = { health: 90, maxHealth: 1000, mana: 30, maxMana: 100, armor: 0 };
        let enemy = { health: 700, maxHealth: 1000, mana: 40, maxMana: 100, armor: 0 };
    
        // Update UI
        function updateUI() {
          // Update Player Bars
          updateBar('.status:first-child .health-bar', player.health, player.maxHealth);
          updateBar('.status:first-child .mana-bar', player.mana, player.maxMana);
          updateArmor('.status:first-child .armor-bar', player.armor);
    
          // Update Enemy Bars
          updateBar('.status:last-child .health-bar', enemy.health, enemy.maxHealth);
          updateBar('.status:last-child .mana-bar', enemy.mana, enemy.maxMana);
          updateArmor('.status:last-child .armor-bar', enemy.armor);
        }
    
        function updateBar(selector, current, max) {
          const bar = document.querySelector(selector + ' .bar-fill');
          const label = document.querySelector(selector + ' .bar-label');
          bar.style.width = (current / max) * 100 + '%';
          label.textContent = `${current}/${max}`;
        }
    
        function updateArmor(selector, armor) {
          const armorBar = document.querySelector(selector);
          armorBar.textContent = `Giáp: ${formatValue(armor)}`;
          armorBar.classList.add('active');
          setTimeout(() => armorBar.classList.remove('active'), 300);
        }
    
        function formatValue(value) {
          if (value >= 1_000_000) return (value / 1_000_000).toFixed(2) + 'm';
          if (value >= 1_000) return (value / 1_000).toFixed(2) + 'k';
          return value.toString();
        }
    
        // Button actions
        function increaseArmor() {
          player.armor += 100;
          enemy.armor += 50;
          updateUI();
        }
    
        function increaseMana() {
          if (player.mana < player.maxMana) player.mana += 10;
          if (enemy.mana < enemy.maxMana) enemy.mana += 5;
          updateUI();
        }
    
        function increaseHealth() {
          if (player.health < player.maxHealth) player.health += 50;
          if (enemy.health < enemy.maxHealth) enemy.health += 30;
          updateUI();
        }
    
        // Initial UI update
        updateUI();
        function updateBar(selector, current, max) {
      const charHpFill = document.querySelector('.charHpFill');
      const monHpFill = document.querySelector('.monHpFill');
      const charHpText = document.querySelector('.charHpText');
      const monHpText = document.querySelector('.monHpText');

      const charManaFill = document.querySelector('.charManaFill');
      const monManaFill = document.querySelector('.monManaFill');
      const charManaText = document.querySelector('.charManaText');
      const monManaText = document.querySelector('.monManaText');

      const charArmor = document.querySelector('.charArmor');
      const monArmor = document.querySelector('.monArmor');

      
      charHpFill.style.width = (gameObj.map.charr.obj.hpCur / gameObj.map.charr.obj.hpMax) * 100 + '%';
      monHpFill.style.width = (gameObj.map.monn.obj.hpCur / gameObj.map.monn.obj.hpMax) * 100 + '%';
      charHpText.textContent = `${formatNumber(gameObj.map.charr.obj.hpCur)}/${formatNumber(gameObj.map.charr.obj.hpMax)}`;
      monHpText.textContent = `${formatNumber(gameObj.map.monn.obj.hpCur)}/${formatNumber(gameObj.map.monn.obj.hpMax)}`;
    
      charManaFill.style.width = (gameObj.map.charr.obj.manaCur / gameObj.map.charr.obj.manaMax) * 100 + '%';
      monManaFill.style.width = (gameObj.map.monn.obj.manaCur / gameObj.map.monn.obj.manaMax) * 100 + '%';
      charManaText.textContent = `${formatNumber(gameObj.map.charr.obj.manaCur)}/${formatNumber(gameObj.map.charr.obj.manaMax)}`;
      monManaText.textContent = `${formatNumber(gameObj.map.monn.obj.manaCur)}/${formatNumber(gameObj.map.monn.obj.manaMax)}`;

      charArmor.textContent = `🛡️: ${gameObj.map.charr.obj.armorCur}`
      monArmor.textContent = `🛡️: ${gameObj.map.monn.obj.armorCur}`
      // Check if health is below 15%
    //   if ((current / max) <= 0.15) {
    //     barContainer.classList.add('low-health');
    //   } else {
    //     barContainer.classList.remove('low-health');
    //   }
    }

    function formatNumber(num) {
  return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}
    
      </script>      
</body>
</html>

 